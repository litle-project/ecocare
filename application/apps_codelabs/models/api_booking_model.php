<?phpclass Api_booking_model extends CI_Controller{		function get_branch(){		$this->db->where("deleted","0");		$query=$this->db->get("branch");				return $query->row_array();	}			function cek_treatment($treatment_id,$branch_id,$date,$time){		$this->db->select("*");		$this->db->from("booking a");		$this->db->join("booking_detail b","b.booking_id = a.booking_id");		$this->db->join("stylist_price c","c.stylist_price_id = b.stylist_price_id");		$this->db->join("treatment_price d","d.treatment_price_id = b.treatment_price_id");		$this->db->where("a.deleted","0");				$this->db->where("a.branch_id",$branch_id);		$this->db->where("d.treatment_id",$treatment_id);		$this->db->where("a.booking_date",$date);		$this->db->where("b.booking_time",$time);				$query = $this->db->get();				return $query->num_rows();	}		function cek_stylist($stylist_id,$branch_id,$date,$time){		$this->db->select("*");		$this->db->from("booking a");		$this->db->join("booking_detail b","b.booking_id = a.booking_id");		$this->db->join("stylist_price c","c.stylist_price_id = b.stylist_price_id");		$this->db->join("treatment_price d","d.treatment_price_id = b.treatment_price_id");		$this->db->where("a.deleted","0");						$this->db->where("a.branch_id",$branch_id);		$this->db->where("c.stylist_id",$stylist_id);		$this->db->where("a.booking_date",$date);		$this->db->where("b.booking_time",$time);						$query = $this->db->get();				return $query->num_rows();	}		function get_tprice($branch_id,$treatment_name){		$this->db->select("*");		$this->db->from("treatment_price a");		$this->db->join("treatment b","b.treatment_id = a.treatment_id");		$this->db->where("a.deleted","0");				$this->db->where("a.branch_id",$branch_id);		$this->db->where("b.treatment_name",$treatment_name);				$query = $this->db->get();				return $query->row_array();	}		function get_sprice($treatment_id,$stylist_name){		$this->db->select("*");		$this->db->from("stylist_price a");		$this->db->join("stylist b","b.stylist_id = a.stylist_id");		$this->db->where("a.deleted","0");				$this->db->where("a.treatment_id",$treatment_id);		$this->db->where("b.stylist_name",$stylist_name);				$query = $this->db->get();				return $query->row_array();	}		function set_dropdowm($table,$id,$value){		$this->db->where("deleted","0");		$query = $this->db->get($table);				$data[""] = "Please Select";		foreach($query->result_array() as $row){			$data[$row[$id]]=$row[$value];		}						return $data;					}		function get_stylist($branch_name="",$treatment_name="",$limit="",$offset=""){		$this->db->select("*");		$this->db->from("stylist_price a");		$this->db->join("stylist z","z.stylist_id=a.stylist_id");		$this->db->join("branch b","b.branch_id=z.branch_id");		$this->db->join("treatment c","c.treatment_id=a.treatment_id");				if($branch_name !=""){			$this->db->where("b.branch_name",$branch_name);		}				if($treatment_name !=""){			$this->db->where("c.treatment_name",$treatment_name);		}				$this->db->where("a.deleted","0");				if($limit !="" OR $offset !=""){			$this->db->limit($limit,$offset);		}				$query=$this->db->get();				return $query->result_array();	}		function get_tpric($treatment_name){		$this->db->select("*");		$this->db->from("treatment_price a");		$this->db->join("treatment b","b.treatment_id = a.treatment_id");		$this->db->where("a.deleted","0");				$this->db->where("b.treatment_name",$treatment_name);								$query=$this->db->get();				return $query->row_array();	}	function get_spric($stylist_name){		$this->db->select("*");		$this->db->from("stylist_price a");		$this->db->join("stylist b","b.stylist_id = a.stylist_id");		$this->db->where("a.deleted","0");				$this->db->where("b.stylist_name",$stylist_name);								$query=$this->db->get();				return $query->row_array();	}		function cek_member_booking($id,$date){		$this->db->where("deleted","0");		$this->db->where("member_id",$id);		$this->db->where("booking_date",$date);				$query = $this->db->get("booking");				return $query->row_array();	}		function get_booking($member_id,$branch_name,$date){				$this->db->select("*");		$this->db->from("booking a");		$this->db->join("booking_detail b","b.booking_id=a.booking_id");		$this->db->join("branch c","c.branch_id=a.branch_id");		$this->db->join("treatment_price d","d.treatment_price_id=b.treatment_price_id");		$this->db->join("treatment e","e.treatment_id=d.treatment_id");		$this->db->join("stylist_price f","f.stylist_price_id=b.stylist_price_id");		$this->db->join("stylist g","g.stylist_id=f.stylist_id");						$this->db->where("a.deleted","0");		$this->db->where("b.deleted","0");		$this->db->where("a.member_id",$member_id);		$this->db->where("c.branch_name",$branch_name);		$this->db->where("a.booking_date",$date);				$query = $this->db->get();				return $query->result_array();						}	}/*	function cek_book($branch_id,$treatment_id,$stylist_id,$date){		$this->db->select("*");		$this->db->from("booking a");		$this->db->join("booking_detail b","b.booking_id = a.booking_id");		$this->db->join("stylist_price c","c.stylist_price_id = b.stylist_price_id");		$this->db->join("treatment_price d","d.treatment_price_id = b.treatment_price_id");		$this->db->where("a.deleted","0");						//$where = "a.deleted='0' AND a.booking_date='".$date."' AND a.branch_id='".$branch_id."' AND d.treatment_id='".$treatment_id."' OR c.stylist_id='".$stylist_id."'";		$this->db->where("a.branch_id",$branch_id);		$this->db->where("d.treatment_id",$treatment_id);		$this->db->where("c.stylist_id",$stylist_id);		$this->db->where("a.booking_date",$date);						//$this->db->where($where);						$query = $this->db->get();		$result= $query->result_array();				if(count($result) > 0){			$x=1;			foreach($result as $row){				$co = date("H:i",strtotime($row["booking_time"]));				$data[$co]=$x;			$x++;				}		}else{			$data=array();		}						return $data;	}*/